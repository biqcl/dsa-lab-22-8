#!/bin/bash

# Проверяем количество аргументов
if [ $# -ne 3 ]; then
    echo "Ошибка: Неверное количество аргументов" >&2
    echo "Использование: $0 <число1> <оператор> <число2>" >&2
    echo "Доступные операторы: +, -, *, /" >&2
    exit 1
fi

num1="$1"
operator="$2"
num2="$3"

# Проверяем, что числа являются целыми
if ! [[ "$num1" =~ ^-?[0-9]+$ ]] || ! [[ "$num2" =~ ^-?[0-9]+$ ]]; then
    echo "Ошибка: Оба аргумента должны быть целыми числами" >&2
    exit 1
fi

# Выполняем операцию
case "$operator" in
    "+")
        result=$((num1 + num2))
        ;;
    "-")
        result=$((num1 - num2))
        ;;
    "*")
        result=$((num1 * num2)) 
        ;;
    "/")
        if [ "$num2" -eq 0 ]; then
            echo "Ошибка: Деление на ноль невозможно" >&2
            exit 1
        fi
        result=$((num1 / num2))
        ;;
    *)
        echo "Ошибка: Неверный оператор '$operator'" >&2
        echo "Доступные операторы: +, -, *, /" >&2
        exit 1
        ;;
esac

echo "Результат: $result"
